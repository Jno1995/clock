{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\scripts\\components\\collider/assets\\scripts\\components\\collider\\ColliderListener.js"],"names":["cc","Class","extends","Component","editor","menu","requireComponent","BoxCollider","disallowMultiple","properties","onLoad","director","getCollisionManager","enabled","onCollisionEnter","other","node","group","destroy","onCollisionStay","onCollisionExit"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;AAELC,YAAQ;AACJC,cAAM,iBADF;AAEJC,0BAAkBN,GAAGO,WAFjB;AAGJC,0BAAkB;AAHd,KAFH;AAOLC,gBAAY,EAPP;;AAWL;;AAEA;;AAEAC,YAAQ,kBAAY;AAChBV,WAAGW,QAAH,CAAYC,mBAAZ,GAAkCC,OAAlC,GAA4C,IAA5C;AACA;AACA;AACA;AACH,KApBI;AAqBLC,sBAAkB,0BAAUC,KAAV,EAAiB;AAC/B;AACA,YAAI,KAAKC,IAAL,CAAUC,KAAV,IAAmB,MAAvB,EAA+B;AAC3B,iBAAKD,IAAL,CAAUE,OAAV;AACH;AACD,YAAI,KAAKF,IAAL,CAAUC,KAAV,IAAmB,MAAvB,EAA+B;AAC3B;AACA,iBAAKD,IAAL,CAAUE,OAAV;AACH;AACD,YAAI,KAAKF,IAAL,CAAUC,KAAV,IAAmB,UAAvB,EAAmC;AAC/B;AACA,iBAAKD,IAAL,CAAUE,OAAV;AACH;AACD,YAAI,KAAKF,IAAL,CAAUC,KAAV,IAAmB,OAAvB,EAAgC;AAC5B;AACA,iBAAKD,IAAL,CAAUE,OAAV;AACH;AACD,YAAI,KAAKF,IAAL,CAAUC,KAAV,IAAmB,WAAvB,EAAoC;AAChC;AACA,iBAAKD,IAAL,CAAUE,OAAV;AACH;AACD;AACH,KA3CI;;AA6CLC,qBAAiB,yBAAUJ,KAAV,EAAiB;AAC9B;AACH,KA/CI;;AAiDLK,qBAAiB,2BAAY,CAK5B;AAJG;AACA;AACA;AACA;;;AAGJ;AAxDK,CAAT","file":"ColliderListener.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\scripts\\components\\collider","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n    editor: {\r\n        menu: \"自定义组件/碰撞组件/碰撞监听\",\r\n        requireComponent: cc.BoxCollider,\r\n        disallowMultiple: true\r\n    },\r\n    properties: {\r\n\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n\r\n    onLoad: function () {\r\n        cc.director.getCollisionManager().enabled = true;\r\n        // cc.director.getCollisionManager().enabledDebugDraw = true;\r\n        // cc.director.getCollisionManager().enabledDrawBoundingBox = true; \r\n        // this.touchingNumber = 0;\r\n    },\r\n    onCollisionEnter: function (other) {\r\n        //TODO: 道具\r\n        if (this.node.group == 'prop') {\r\n            this.node.destroy();\r\n        }\r\n        if (this.node.group == 'wall') {\r\n            //TODO: 墙壁是需要多次打击才能被销毁\r\n            this.node.destroy();\r\n        }\r\n        if (this.node.group == 'gasoline') {\r\n            //TODO: 汽油\r\n            this.node.destroy();\r\n        }\r\n        if (this.node.group == 'enemy') {\r\n            //TODO:敌人\r\n            this.node.destroy();\r\n        }\r\n        if (this.node.group == 'cartridge') {\r\n            //TODO:子弹\r\n            this.node.destroy();\r\n        }\r\n        // this.touchingNumber++;\r\n    },\r\n\r\n    onCollisionStay: function (other) {\r\n        // console.log('on collision stay');\r\n    },\r\n\r\n    onCollisionExit: function () {\r\n        // this.touchingNumber--;\r\n        // if (this.touchingNumber === 0) {\r\n        //     this.node.color = cc.Color.WHITE;\r\n        // }\r\n    }\r\n\r\n    // update (dt) {},\r\n});\r\n"]}