{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\scripts\\data/assets\\scripts\\data\\DLocal.js"],"names":["cc","Class","extends","Component","properties","option","setting","init","optionsum","jushu","jifen","renshu","fangfei","qingyise","jinlong","jinkan","duiduihu","roomPrice","sound_volum","sfx_volum","sound_switch","sfx_switch","lan_type","lan_sex","no_warning_match_id","loadOption","loadSetting","vv","wxHelper","iswxPlatform","console","log","optionstorage","wx","getStorageSync","storagestr","JSON","parse","sys","localStorage","getItem","key","settingstorage","saveOption","setStorageSync","setItem","stringify","saveSetting"],"mappings":"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","file":"DLocal.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\data","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        option: null,\r\n        setting: null,\r\n    },\r\n\r\n    init() {\r\n\r\n        this.option = {\r\n            optionsum: 4,\r\n            jushu: 4,//4局\r\n            jifen: 6,//放胡单赔\r\n            renshu: 9,//4人局\r\n            fangfei: 14,//房主付费     \r\n            //福州麻将玩法\r\n            qingyise: 1,\r\n            jinlong: 0,\r\n            jinkan: 0,\r\n            //宁德麻将玩法\r\n            duiduihu: 0,\r\n            //房费\r\n            roomPrice: 2\r\n        };\r\n\r\n        this.setting = {\r\n            sound_volum: 1,\r\n            sfx_volum: 1,\r\n            sound_switch: 1,\r\n            sfx_switch: 1,\r\n            //table_color: 0, // 桌布颜色：0：绿色；1：蓝色\r\n            //ting_tip_type: 0, // 听牌提示：0：开启；1：关闭\r\n            lan_type: 1, // 配音语言：0：普通话；1：本地话\r\n            lan_sex: 0, // 配音性别：0：男声；1：女声\r\n            no_warning_match_id: 0, // 不再提醒的比赛id\r\n        };\r\n\r\n        this.loadOption();\r\n        this.loadSetting();\r\n    },\r\n\r\n    loadOption() {\r\n        if (cc.vv.wxHelper.iswxPlatform()) {\r\n            console.log('In Weixin');\r\n            var optionstorage = wx.getStorageSync('option');\r\n            console.log(typeof (optionstorage));\r\n            if (typeof (optionstorage) != \"string\") { //对象为空的话  类型为string\r\n                this.option = optionstorage;\r\n            }\r\n            // wx.getStorage({ // 异步缓存只能在本次页面生命周期中提取到set的数据 方法保留\r\n            //   key: 'option',\r\n            //   success: function(res) {\r\n            //     console.log(res)\r\n            //     this.option = res.data;\r\n            //   },\r\n            // })\r\n        } else {\r\n            var storagestr = JSON.parse(cc.sys.localStorage.getItem(\"option\"));\r\n            if (storagestr != null) {\r\n                for (var key in storagestr) {\r\n                    this.option[key] = storagestr[key];\r\n                }\r\n            }\r\n\r\n        }\r\n    },\r\n\r\n    loadSetting() {\r\n        if (cc.vv.wxHelper.iswxPlatform()) {\r\n            var settingstorage = wx.getStorageSync('setting');\r\n            console.log(typeof (settingstorage));\r\n            if (typeof (settingstorage) != \"string\") {\r\n                this.setting = settingstorage;\r\n            }\r\n        } else {\r\n            var storagestr = JSON.parse(cc.sys.localStorage.getItem(\"setting\"));\r\n            if (storagestr != null) {\r\n                for (var key in storagestr) {\r\n                    this.setting[key] = storagestr[key];\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    saveOption() {\r\n        if (cc.vv.wxHelper.iswxPlatform()) {\r\n            wx.setStorageSync('option', this.option);\r\n        } else {\r\n            cc.sys.localStorage.setItem(\"option\", JSON.stringify(this.option));\r\n        }\r\n        // wx.setStorage(\r\n        //   {\r\n        //     key: 'option',\r\n        //     data: this.option,\r\n        //     success: function(res) {\r\n        //       console.log(res)\r\n        //     }\r\n        //   }\r\n        // )\r\n    },\r\n    saveSetting() {\r\n        if (cc.vv.wxHelper.iswxPlatform()) {\r\n            wx.setStorageSync('setting', this.setting);\r\n        } else {\r\n            cc.sys.localStorage.setItem(\"setting\", JSON.stringify(this.setting));\r\n        }\r\n\r\n        // wx.setStorage(\r\n        //   {\r\n        //     key: 'setting',\r\n        //     data: this.setting,\r\n        //     success: function(res) {\r\n        //       console.log(res)\r\n        //     }\r\n        //   }\r\n        // )\r\n    }\r\n\r\n    // update (dt) {},\r\n});"]}